<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by perltidy on Fri Jan 22 09:48:05 2010 -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>euler_0011.pl</title>
<style type="text/css">
<!--
/* default style sheet generated by perltidy */
body {background: #FFFFFF; color: #000000}
pre { color: #000000; 
      background: #FFFFFF;
      font-family: courier;
    } 

.c  { color: #228B22;} /* comment */
.cm { color: #000000;} /* comma */
.co { color: #000000;} /* colon */
.h  { color: #CD5555; font-weight:bold;} /* here-doc-target */
.hh { color: #CD5555; font-style:italic;} /* here-doc-text */
.i  { color: #00688B;} /* identifier */
.j  { color: #CD5555; font-weight:bold;} /* label */
.k  { color: #8B008B; font-weight:bold;} /* keyword */
.m  { color: #FF0000; font-weight:bold;} /* subroutine */
.n  { color: #B452CD;} /* numeric */
.p  { color: #000000;} /* paren */
.pd { color: #228B22; font-style:italic;} /* pod-text */
.pu { color: #000000;} /* punctuation */
.q  { color: #CD5555;} /* quote */
.s  { color: #000000;} /* structure */
.sc { color: #000000;} /* semicolon */
.v  { color: #B452CD;} /* v-string */
.w  { color: #000000;} /* bareword */
-->
</style>
</head>
<body>
<a name="-top-"></a>
<h1>euler_0011.pl</h1>
<!-- BEGIN CODE INDEX --><a name="code-index"></a>
<ul>
<li><a href="#findProduct-">package main</a>
<ul>
<li><a href="#findProduct-">findProduct</a></li>
</ul>
</li>
<li><a href="#EOF-">EOF</a></li>
</ul>
<!-- END CODE INDEX -->
<hr />
<!-- contents of filename: euler_0011.pl -->
<pre>
#!/opt/local/bin/perl

<span class="c"># Project Euler Problem #11</span>
<span class="c">#</span>
<span class="c"># In the 20*20 grid below, four numbers along a diagonal line have been marked in red.</span>
<span class="c"># </span>
<span class="c"># 08 02 22 97 38 15 00 40 00 75 04 05 07 78 52 12 50 77 91 08</span>
<span class="c"># 49 49 99 40 17 81 18 57 60 87 17 40 98 43 69 48 04 56 62 00</span>
<span class="c"># 81 49 31 73 55 79 14 29 93 71 40 67 53 88 30 03 49 13 36 65</span>
<span class="c"># 52 70 95 23 04 60 11 42 69 24 68 56 01 32 56 71 37 02 36 91</span>
<span class="c"># 22 31 16 71 51 67 63 89 41 92 36 54 22 40 40 28 66 33 13 80</span>
<span class="c"># 24 47 32 60 99 03 45 02 44 75 33 53 78 36 84 20 35 17 12 50</span>
<span class="c"># 32 98 81 28 64 23 67 10(26)38 40 67 59 54 70 66 18 38 64 70</span>
<span class="c"># 67 26 20 68 02 62 12 20 95(63)94 39 63 08 40 91 66 49 94 21</span>
<span class="c"># 24 55 58 05 66 73 99 26 97 17(78)78 96 83 14 88 34 89 63 72</span>
<span class="c"># 21 36 23 09 75 00 76 44 20 45 35(14)00 61 33 97 34 31 33 95</span>
<span class="c"># 78 17 53 28 22 75 31 67 15 94 03 80 04 62 16 14 09 53 56 92</span>
<span class="c"># 16 39 05 42 96 35 31 47 55 58 88 24 00 17 54 24 36 29 85 57</span>
<span class="c"># 86 56 00 48 35 71 89 07 05 44 44 37 44 60 21 58 51 54 17 58</span>
<span class="c"># 19 80 81 68 05 94 47 69 28 73 92 13 86 52 17 77 04 89 55 40</span>
<span class="c"># 04 52 08 83 97 35 99 16 07 97 57 32 16 26 26 79 33 27 98 66</span>
<span class="c"># 88 36 68 87 57 62 20 72 03 46 33 67 46 55 12 32 63 93 53 69</span>
<span class="c"># 04 42 16 73 38 25 39 11 24 94 72 18 08 46 29 32 40 62 76 36</span>
<span class="c"># 20 69 36 41 72 30 23 88 34 62 99 69 82 67 59 85 74 04 36 16</span>
<span class="c"># 20 73 35 29 78 31 90 01 74 31 49 71 48 86 81 16 23 57 05 54</span>
<span class="c"># 01 70 54 71 83 51 54 69 16 92 33 48 61 43 52 01 89 19 67 48</span>
<span class="c"># </span>
<span class="c"># The product of these numbers is 26 * 63 * 78 * 14 = 1788696.</span>
<span class="c"># </span>
<span class="c"># What is the greatest product of four adjacent numbers in any direction (up, down, left, right, or diagonally) in the 20*20 grid?</span>


<span class="k">use</span> <span class="w">strict</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">warnings</span><span class="sc">;</span>
<span class="k">require</span> <span class="q">&quot;/Users/don/bin/scripts/euler/functions.pm&quot;</span><span class="sc">;</span>

<span class="c"># Disable output buffering</span>
<span class="k">select</span><span class="s">(</span><span class="s">(</span><span class="k">select</span><span class="s">(</span><span class="w">STDOUT</span><span class="s">)</span><span class="cm">,</span> <span class="i">$|</span>=<span class="n">1</span><span class="s">)</span>[<span class="n">0</span>]<span class="s">)</span><span class="sc">;</span>

<span class="k">my</span> <span class="i">@grid</span> = <span class="s">(</span>
  <span class="s">[</span><span class="q">&#39;08&#39;</span><span class="cm">,</span><span class="q">&#39;02&#39;</span><span class="cm">,</span><span class="q">&#39;22&#39;</span><span class="cm">,</span><span class="q">&#39;97&#39;</span><span class="cm">,</span><span class="q">&#39;38&#39;</span><span class="cm">,</span><span class="q">&#39;15&#39;</span><span class="cm">,</span><span class="q">&#39;00&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="cm">,</span><span class="q">&#39;00&#39;</span><span class="cm">,</span><span class="q">&#39;75&#39;</span><span class="cm">,</span><span class="q">&#39;04&#39;</span><span class="cm">,</span><span class="q">&#39;05&#39;</span><span class="cm">,</span><span class="q">&#39;07&#39;</span><span class="cm">,</span><span class="q">&#39;78&#39;</span><span class="cm">,</span><span class="q">&#39;52&#39;</span><span class="cm">,</span><span class="q">&#39;12&#39;</span><span class="cm">,</span><span class="q">&#39;50&#39;</span><span class="cm">,</span><span class="q">&#39;77&#39;</span><span class="cm">,</span><span class="q">&#39;91&#39;</span><span class="cm">,</span><span class="q">&#39;08&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;49&#39;</span><span class="cm">,</span><span class="q">&#39;49&#39;</span><span class="cm">,</span><span class="q">&#39;99&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="cm">,</span><span class="q">&#39;17&#39;</span><span class="cm">,</span><span class="q">&#39;81&#39;</span><span class="cm">,</span><span class="q">&#39;18&#39;</span><span class="cm">,</span><span class="q">&#39;57&#39;</span><span class="cm">,</span><span class="q">&#39;60&#39;</span><span class="cm">,</span><span class="q">&#39;87&#39;</span><span class="cm">,</span><span class="q">&#39;17&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="cm">,</span><span class="q">&#39;98&#39;</span><span class="cm">,</span><span class="q">&#39;43&#39;</span><span class="cm">,</span><span class="q">&#39;69&#39;</span><span class="cm">,</span><span class="q">&#39;48&#39;</span><span class="cm">,</span><span class="q">&#39;04&#39;</span><span class="cm">,</span><span class="q">&#39;56&#39;</span><span class="cm">,</span><span class="q">&#39;62&#39;</span><span class="cm">,</span><span class="q">&#39;00&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;81&#39;</span><span class="cm">,</span><span class="q">&#39;49&#39;</span><span class="cm">,</span><span class="q">&#39;31&#39;</span><span class="cm">,</span><span class="q">&#39;73&#39;</span><span class="cm">,</span><span class="q">&#39;55&#39;</span><span class="cm">,</span><span class="q">&#39;79&#39;</span><span class="cm">,</span><span class="q">&#39;14&#39;</span><span class="cm">,</span><span class="q">&#39;29&#39;</span><span class="cm">,</span><span class="q">&#39;93&#39;</span><span class="cm">,</span><span class="q">&#39;71&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="cm">,</span><span class="q">&#39;67&#39;</span><span class="cm">,</span><span class="q">&#39;53&#39;</span><span class="cm">,</span><span class="q">&#39;88&#39;</span><span class="cm">,</span><span class="q">&#39;30&#39;</span><span class="cm">,</span><span class="q">&#39;03&#39;</span><span class="cm">,</span><span class="q">&#39;49&#39;</span><span class="cm">,</span><span class="q">&#39;13&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="cm">,</span><span class="q">&#39;65&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;52&#39;</span><span class="cm">,</span><span class="q">&#39;70&#39;</span><span class="cm">,</span><span class="q">&#39;95&#39;</span><span class="cm">,</span><span class="q">&#39;23&#39;</span><span class="cm">,</span><span class="q">&#39;04&#39;</span><span class="cm">,</span><span class="q">&#39;60&#39;</span><span class="cm">,</span><span class="q">&#39;11&#39;</span><span class="cm">,</span><span class="q">&#39;42&#39;</span><span class="cm">,</span><span class="q">&#39;69&#39;</span><span class="cm">,</span><span class="q">&#39;24&#39;</span><span class="cm">,</span><span class="q">&#39;68&#39;</span><span class="cm">,</span><span class="q">&#39;56&#39;</span><span class="cm">,</span><span class="q">&#39;01&#39;</span><span class="cm">,</span><span class="q">&#39;32&#39;</span><span class="cm">,</span><span class="q">&#39;56&#39;</span><span class="cm">,</span><span class="q">&#39;71&#39;</span><span class="cm">,</span><span class="q">&#39;37&#39;</span><span class="cm">,</span><span class="q">&#39;02&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="cm">,</span><span class="q">&#39;91&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;22&#39;</span><span class="cm">,</span><span class="q">&#39;31&#39;</span><span class="cm">,</span><span class="q">&#39;16&#39;</span><span class="cm">,</span><span class="q">&#39;71&#39;</span><span class="cm">,</span><span class="q">&#39;51&#39;</span><span class="cm">,</span><span class="q">&#39;67&#39;</span><span class="cm">,</span><span class="q">&#39;63&#39;</span><span class="cm">,</span><span class="q">&#39;89&#39;</span><span class="cm">,</span><span class="q">&#39;41&#39;</span><span class="cm">,</span><span class="q">&#39;92&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="cm">,</span><span class="q">&#39;54&#39;</span><span class="cm">,</span><span class="q">&#39;22&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="cm">,</span><span class="q">&#39;28&#39;</span><span class="cm">,</span><span class="q">&#39;66&#39;</span><span class="cm">,</span><span class="q">&#39;33&#39;</span><span class="cm">,</span><span class="q">&#39;13&#39;</span><span class="cm">,</span><span class="q">&#39;80&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;24&#39;</span><span class="cm">,</span><span class="q">&#39;47&#39;</span><span class="cm">,</span><span class="q">&#39;32&#39;</span><span class="cm">,</span><span class="q">&#39;60&#39;</span><span class="cm">,</span><span class="q">&#39;99&#39;</span><span class="cm">,</span><span class="q">&#39;03&#39;</span><span class="cm">,</span><span class="q">&#39;45&#39;</span><span class="cm">,</span><span class="q">&#39;02&#39;</span><span class="cm">,</span><span class="q">&#39;44&#39;</span><span class="cm">,</span><span class="q">&#39;75&#39;</span><span class="cm">,</span><span class="q">&#39;33&#39;</span><span class="cm">,</span><span class="q">&#39;53&#39;</span><span class="cm">,</span><span class="q">&#39;78&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="cm">,</span><span class="q">&#39;84&#39;</span><span class="cm">,</span><span class="q">&#39;20&#39;</span><span class="cm">,</span><span class="q">&#39;35&#39;</span><span class="cm">,</span><span class="q">&#39;17&#39;</span><span class="cm">,</span><span class="q">&#39;12&#39;</span><span class="cm">,</span><span class="q">&#39;50&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;32&#39;</span><span class="cm">,</span><span class="q">&#39;98&#39;</span><span class="cm">,</span><span class="q">&#39;81&#39;</span><span class="cm">,</span><span class="q">&#39;28&#39;</span><span class="cm">,</span><span class="q">&#39;64&#39;</span><span class="cm">,</span><span class="q">&#39;23&#39;</span><span class="cm">,</span><span class="q">&#39;67&#39;</span><span class="cm">,</span><span class="q">&#39;10&#39;</span><span class="cm">,</span><span class="q">&#39;26&#39;</span><span class="cm">,</span><span class="q">&#39;38&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="cm">,</span><span class="q">&#39;67&#39;</span><span class="cm">,</span><span class="q">&#39;59&#39;</span><span class="cm">,</span><span class="q">&#39;54&#39;</span><span class="cm">,</span><span class="q">&#39;70&#39;</span><span class="cm">,</span><span class="q">&#39;66&#39;</span><span class="cm">,</span><span class="q">&#39;18&#39;</span><span class="cm">,</span><span class="q">&#39;38&#39;</span><span class="cm">,</span><span class="q">&#39;64&#39;</span><span class="cm">,</span><span class="q">&#39;70&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;67&#39;</span><span class="cm">,</span><span class="q">&#39;26&#39;</span><span class="cm">,</span><span class="q">&#39;20&#39;</span><span class="cm">,</span><span class="q">&#39;68&#39;</span><span class="cm">,</span><span class="q">&#39;02&#39;</span><span class="cm">,</span><span class="q">&#39;62&#39;</span><span class="cm">,</span><span class="q">&#39;12&#39;</span><span class="cm">,</span><span class="q">&#39;20&#39;</span><span class="cm">,</span><span class="q">&#39;95&#39;</span><span class="cm">,</span><span class="q">&#39;63&#39;</span><span class="cm">,</span><span class="q">&#39;94&#39;</span><span class="cm">,</span><span class="q">&#39;39&#39;</span><span class="cm">,</span><span class="q">&#39;63&#39;</span><span class="cm">,</span><span class="q">&#39;08&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="cm">,</span><span class="q">&#39;91&#39;</span><span class="cm">,</span><span class="q">&#39;66&#39;</span><span class="cm">,</span><span class="q">&#39;49&#39;</span><span class="cm">,</span><span class="q">&#39;94&#39;</span><span class="cm">,</span><span class="q">&#39;21&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;24&#39;</span><span class="cm">,</span><span class="q">&#39;55&#39;</span><span class="cm">,</span><span class="q">&#39;58&#39;</span><span class="cm">,</span><span class="q">&#39;05&#39;</span><span class="cm">,</span><span class="q">&#39;66&#39;</span><span class="cm">,</span><span class="q">&#39;73&#39;</span><span class="cm">,</span><span class="q">&#39;99&#39;</span><span class="cm">,</span><span class="q">&#39;26&#39;</span><span class="cm">,</span><span class="q">&#39;97&#39;</span><span class="cm">,</span><span class="q">&#39;17&#39;</span><span class="cm">,</span><span class="q">&#39;78&#39;</span><span class="cm">,</span><span class="q">&#39;78&#39;</span><span class="cm">,</span><span class="q">&#39;96&#39;</span><span class="cm">,</span><span class="q">&#39;83&#39;</span><span class="cm">,</span><span class="q">&#39;14&#39;</span><span class="cm">,</span><span class="q">&#39;88&#39;</span><span class="cm">,</span><span class="q">&#39;34&#39;</span><span class="cm">,</span><span class="q">&#39;89&#39;</span><span class="cm">,</span><span class="q">&#39;63&#39;</span><span class="cm">,</span><span class="q">&#39;72&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;21&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="cm">,</span><span class="q">&#39;23&#39;</span><span class="cm">,</span><span class="q">&#39;09&#39;</span><span class="cm">,</span><span class="q">&#39;75&#39;</span><span class="cm">,</span><span class="q">&#39;00&#39;</span><span class="cm">,</span><span class="q">&#39;76&#39;</span><span class="cm">,</span><span class="q">&#39;44&#39;</span><span class="cm">,</span><span class="q">&#39;20&#39;</span><span class="cm">,</span><span class="q">&#39;45&#39;</span><span class="cm">,</span><span class="q">&#39;35&#39;</span><span class="cm">,</span><span class="q">&#39;14&#39;</span><span class="cm">,</span><span class="q">&#39;00&#39;</span><span class="cm">,</span><span class="q">&#39;61&#39;</span><span class="cm">,</span><span class="q">&#39;33&#39;</span><span class="cm">,</span><span class="q">&#39;97&#39;</span><span class="cm">,</span><span class="q">&#39;34&#39;</span><span class="cm">,</span><span class="q">&#39;31&#39;</span><span class="cm">,</span><span class="q">&#39;33&#39;</span><span class="cm">,</span><span class="q">&#39;95&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;78&#39;</span><span class="cm">,</span><span class="q">&#39;17&#39;</span><span class="cm">,</span><span class="q">&#39;53&#39;</span><span class="cm">,</span><span class="q">&#39;28&#39;</span><span class="cm">,</span><span class="q">&#39;22&#39;</span><span class="cm">,</span><span class="q">&#39;75&#39;</span><span class="cm">,</span><span class="q">&#39;31&#39;</span><span class="cm">,</span><span class="q">&#39;67&#39;</span><span class="cm">,</span><span class="q">&#39;15&#39;</span><span class="cm">,</span><span class="q">&#39;94&#39;</span><span class="cm">,</span><span class="q">&#39;03&#39;</span><span class="cm">,</span><span class="q">&#39;80&#39;</span><span class="cm">,</span><span class="q">&#39;04&#39;</span><span class="cm">,</span><span class="q">&#39;62&#39;</span><span class="cm">,</span><span class="q">&#39;16&#39;</span><span class="cm">,</span><span class="q">&#39;14&#39;</span><span class="cm">,</span><span class="q">&#39;09&#39;</span><span class="cm">,</span><span class="q">&#39;53&#39;</span><span class="cm">,</span><span class="q">&#39;56&#39;</span><span class="cm">,</span><span class="q">&#39;92&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;16&#39;</span><span class="cm">,</span><span class="q">&#39;39&#39;</span><span class="cm">,</span><span class="q">&#39;05&#39;</span><span class="cm">,</span><span class="q">&#39;42&#39;</span><span class="cm">,</span><span class="q">&#39;96&#39;</span><span class="cm">,</span><span class="q">&#39;35&#39;</span><span class="cm">,</span><span class="q">&#39;31&#39;</span><span class="cm">,</span><span class="q">&#39;47&#39;</span><span class="cm">,</span><span class="q">&#39;55&#39;</span><span class="cm">,</span><span class="q">&#39;58&#39;</span><span class="cm">,</span><span class="q">&#39;88&#39;</span><span class="cm">,</span><span class="q">&#39;24&#39;</span><span class="cm">,</span><span class="q">&#39;00&#39;</span><span class="cm">,</span><span class="q">&#39;17&#39;</span><span class="cm">,</span><span class="q">&#39;54&#39;</span><span class="cm">,</span><span class="q">&#39;24&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="cm">,</span><span class="q">&#39;29&#39;</span><span class="cm">,</span><span class="q">&#39;85&#39;</span><span class="cm">,</span><span class="q">&#39;57&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;86&#39;</span><span class="cm">,</span><span class="q">&#39;56&#39;</span><span class="cm">,</span><span class="q">&#39;00&#39;</span><span class="cm">,</span><span class="q">&#39;48&#39;</span><span class="cm">,</span><span class="q">&#39;35&#39;</span><span class="cm">,</span><span class="q">&#39;71&#39;</span><span class="cm">,</span><span class="q">&#39;89&#39;</span><span class="cm">,</span><span class="q">&#39;07&#39;</span><span class="cm">,</span><span class="q">&#39;05&#39;</span><span class="cm">,</span><span class="q">&#39;44&#39;</span><span class="cm">,</span><span class="q">&#39;44&#39;</span><span class="cm">,</span><span class="q">&#39;37&#39;</span><span class="cm">,</span><span class="q">&#39;44&#39;</span><span class="cm">,</span><span class="q">&#39;60&#39;</span><span class="cm">,</span><span class="q">&#39;21&#39;</span><span class="cm">,</span><span class="q">&#39;58&#39;</span><span class="cm">,</span><span class="q">&#39;51&#39;</span><span class="cm">,</span><span class="q">&#39;54&#39;</span><span class="cm">,</span><span class="q">&#39;17&#39;</span><span class="cm">,</span><span class="q">&#39;58&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;19&#39;</span><span class="cm">,</span><span class="q">&#39;80&#39;</span><span class="cm">,</span><span class="q">&#39;81&#39;</span><span class="cm">,</span><span class="q">&#39;68&#39;</span><span class="cm">,</span><span class="q">&#39;05&#39;</span><span class="cm">,</span><span class="q">&#39;94&#39;</span><span class="cm">,</span><span class="q">&#39;47&#39;</span><span class="cm">,</span><span class="q">&#39;69&#39;</span><span class="cm">,</span><span class="q">&#39;28&#39;</span><span class="cm">,</span><span class="q">&#39;73&#39;</span><span class="cm">,</span><span class="q">&#39;92&#39;</span><span class="cm">,</span><span class="q">&#39;13&#39;</span><span class="cm">,</span><span class="q">&#39;86&#39;</span><span class="cm">,</span><span class="q">&#39;52&#39;</span><span class="cm">,</span><span class="q">&#39;17&#39;</span><span class="cm">,</span><span class="q">&#39;77&#39;</span><span class="cm">,</span><span class="q">&#39;04&#39;</span><span class="cm">,</span><span class="q">&#39;89&#39;</span><span class="cm">,</span><span class="q">&#39;55&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;04&#39;</span><span class="cm">,</span><span class="q">&#39;52&#39;</span><span class="cm">,</span><span class="q">&#39;08&#39;</span><span class="cm">,</span><span class="q">&#39;83&#39;</span><span class="cm">,</span><span class="q">&#39;97&#39;</span><span class="cm">,</span><span class="q">&#39;35&#39;</span><span class="cm">,</span><span class="q">&#39;99&#39;</span><span class="cm">,</span><span class="q">&#39;16&#39;</span><span class="cm">,</span><span class="q">&#39;07&#39;</span><span class="cm">,</span><span class="q">&#39;97&#39;</span><span class="cm">,</span><span class="q">&#39;57&#39;</span><span class="cm">,</span><span class="q">&#39;32&#39;</span><span class="cm">,</span><span class="q">&#39;16&#39;</span><span class="cm">,</span><span class="q">&#39;26&#39;</span><span class="cm">,</span><span class="q">&#39;26&#39;</span><span class="cm">,</span><span class="q">&#39;79&#39;</span><span class="cm">,</span><span class="q">&#39;33&#39;</span><span class="cm">,</span><span class="q">&#39;27&#39;</span><span class="cm">,</span><span class="q">&#39;98&#39;</span><span class="cm">,</span><span class="q">&#39;66&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;88&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="cm">,</span><span class="q">&#39;68&#39;</span><span class="cm">,</span><span class="q">&#39;87&#39;</span><span class="cm">,</span><span class="q">&#39;57&#39;</span><span class="cm">,</span><span class="q">&#39;62&#39;</span><span class="cm">,</span><span class="q">&#39;20&#39;</span><span class="cm">,</span><span class="q">&#39;72&#39;</span><span class="cm">,</span><span class="q">&#39;03&#39;</span><span class="cm">,</span><span class="q">&#39;46&#39;</span><span class="cm">,</span><span class="q">&#39;33&#39;</span><span class="cm">,</span><span class="q">&#39;67&#39;</span><span class="cm">,</span><span class="q">&#39;46&#39;</span><span class="cm">,</span><span class="q">&#39;55&#39;</span><span class="cm">,</span><span class="q">&#39;12&#39;</span><span class="cm">,</span><span class="q">&#39;32&#39;</span><span class="cm">,</span><span class="q">&#39;63&#39;</span><span class="cm">,</span><span class="q">&#39;93&#39;</span><span class="cm">,</span><span class="q">&#39;53&#39;</span><span class="cm">,</span><span class="q">&#39;69&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;04&#39;</span><span class="cm">,</span><span class="q">&#39;42&#39;</span><span class="cm">,</span><span class="q">&#39;16&#39;</span><span class="cm">,</span><span class="q">&#39;73&#39;</span><span class="cm">,</span><span class="q">&#39;38&#39;</span><span class="cm">,</span><span class="q">&#39;25&#39;</span><span class="cm">,</span><span class="q">&#39;39&#39;</span><span class="cm">,</span><span class="q">&#39;11&#39;</span><span class="cm">,</span><span class="q">&#39;24&#39;</span><span class="cm">,</span><span class="q">&#39;94&#39;</span><span class="cm">,</span><span class="q">&#39;72&#39;</span><span class="cm">,</span><span class="q">&#39;18&#39;</span><span class="cm">,</span><span class="q">&#39;08&#39;</span><span class="cm">,</span><span class="q">&#39;46&#39;</span><span class="cm">,</span><span class="q">&#39;29&#39;</span><span class="cm">,</span><span class="q">&#39;32&#39;</span><span class="cm">,</span><span class="q">&#39;40&#39;</span><span class="cm">,</span><span class="q">&#39;62&#39;</span><span class="cm">,</span><span class="q">&#39;76&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;20&#39;</span><span class="cm">,</span><span class="q">&#39;69&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="cm">,</span><span class="q">&#39;41&#39;</span><span class="cm">,</span><span class="q">&#39;72&#39;</span><span class="cm">,</span><span class="q">&#39;30&#39;</span><span class="cm">,</span><span class="q">&#39;23&#39;</span><span class="cm">,</span><span class="q">&#39;88&#39;</span><span class="cm">,</span><span class="q">&#39;34&#39;</span><span class="cm">,</span><span class="q">&#39;62&#39;</span><span class="cm">,</span><span class="q">&#39;99&#39;</span><span class="cm">,</span><span class="q">&#39;69&#39;</span><span class="cm">,</span><span class="q">&#39;82&#39;</span><span class="cm">,</span><span class="q">&#39;67&#39;</span><span class="cm">,</span><span class="q">&#39;59&#39;</span><span class="cm">,</span><span class="q">&#39;85&#39;</span><span class="cm">,</span><span class="q">&#39;74&#39;</span><span class="cm">,</span><span class="q">&#39;04&#39;</span><span class="cm">,</span><span class="q">&#39;36&#39;</span><span class="cm">,</span><span class="q">&#39;16&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;20&#39;</span><span class="cm">,</span><span class="q">&#39;73&#39;</span><span class="cm">,</span><span class="q">&#39;35&#39;</span><span class="cm">,</span><span class="q">&#39;29&#39;</span><span class="cm">,</span><span class="q">&#39;78&#39;</span><span class="cm">,</span><span class="q">&#39;31&#39;</span><span class="cm">,</span><span class="q">&#39;90&#39;</span><span class="cm">,</span><span class="q">&#39;01&#39;</span><span class="cm">,</span><span class="q">&#39;74&#39;</span><span class="cm">,</span><span class="q">&#39;31&#39;</span><span class="cm">,</span><span class="q">&#39;49&#39;</span><span class="cm">,</span><span class="q">&#39;71&#39;</span><span class="cm">,</span><span class="q">&#39;48&#39;</span><span class="cm">,</span><span class="q">&#39;86&#39;</span><span class="cm">,</span><span class="q">&#39;81&#39;</span><span class="cm">,</span><span class="q">&#39;16&#39;</span><span class="cm">,</span><span class="q">&#39;23&#39;</span><span class="cm">,</span><span class="q">&#39;57&#39;</span><span class="cm">,</span><span class="q">&#39;05&#39;</span><span class="cm">,</span><span class="q">&#39;54&#39;</span><span class="s">]</span><span class="cm">,</span>
  <span class="s">[</span><span class="q">&#39;01&#39;</span><span class="cm">,</span><span class="q">&#39;70&#39;</span><span class="cm">,</span><span class="q">&#39;54&#39;</span><span class="cm">,</span><span class="q">&#39;71&#39;</span><span class="cm">,</span><span class="q">&#39;83&#39;</span><span class="cm">,</span><span class="q">&#39;51&#39;</span><span class="cm">,</span><span class="q">&#39;54&#39;</span><span class="cm">,</span><span class="q">&#39;69&#39;</span><span class="cm">,</span><span class="q">&#39;16&#39;</span><span class="cm">,</span><span class="q">&#39;92&#39;</span><span class="cm">,</span><span class="q">&#39;33&#39;</span><span class="cm">,</span><span class="q">&#39;48&#39;</span><span class="cm">,</span><span class="q">&#39;61&#39;</span><span class="cm">,</span><span class="q">&#39;43&#39;</span><span class="cm">,</span><span class="q">&#39;52&#39;</span><span class="cm">,</span><span class="q">&#39;01&#39;</span><span class="cm">,</span><span class="q">&#39;89&#39;</span><span class="cm">,</span><span class="q">&#39;19&#39;</span><span class="cm">,</span><span class="q">&#39;67&#39;</span><span class="cm">,</span><span class="q">&#39;48&#39;</span><span class="s">]</span>
<span class="s">)</span><span class="sc">;</span>

<span class="k">my</span> <span class="i">$largest_product</span> = <span class="n">0</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">$range</span> = <span class="n">4</span><span class="sc">;</span>

<span class="k">sub </span><span class="m">findProduct($$$$)</span><span class="sc">;</span>

<span class="k">print</span> <span class="q">&quot;Searching... &quot;</span><span class="sc">;</span>

<a name="findProduct-"></a><span class="k">sub </span><span class="m">findProduct($$$$)</span> <span class="s">{</span>
  <span class="k">my</span><span class="s">(</span><span class="i">$x1</span><span class="cm">,</span> <span class="i">$y1</span><span class="cm">,</span> <span class="i">$x2</span><span class="cm">,</span> <span class="i">$y2</span><span class="s">)</span> = <span class="i">@_</span>[<span class="n">0</span>..<span class="n">3</span>]<span class="sc">;</span>
  
  <span class="k">if</span> <span class="s">(</span><span class="i">$x1</span> == <span class="i">$x2</span> &amp;&amp; <span class="i">$y1</span> == <span class="i">$y2</span><span class="s">)</span> <span class="s">{</span>
    <span class="k">return</span> <span class="n">0</span><span class="sc">;</span>
  <span class="s">}</span>
  
  <span class="k">my</span> <span class="i">$delta_x</span> = <span class="i">$x1</span> &gt; <span class="i">$x2</span> ? <span class="n">-1</span> <span class="co">:</span> <span class="i">$x1</span> &lt; <span class="i">$x2</span> ? <span class="n">1</span> <span class="co">:</span> <span class="n">0</span><span class="sc">;</span>
  <span class="k">my</span> <span class="i">$delta_y</span> = <span class="i">$y1</span> &gt; <span class="i">$y2</span> ? <span class="n">-1</span> <span class="co">:</span> <span class="i">$y1</span> &lt; <span class="i">$y2</span> ? <span class="n">1</span> <span class="co">:</span> <span class="n">0</span><span class="sc">;</span>
  
  <span class="k">my</span> <span class="i">$total</span> = <span class="n">1</span><span class="sc">;</span>
  <span class="k">my</span> <span class="i">$cnt</span> = <span class="n">0</span><span class="sc">;</span>
  
  <span class="k">my</span> <span class="i">$dbg</span> = <span class="q">&#39;&#39;</span><span class="sc">;</span>

  <span class="k">for</span> <span class="s">(</span><span class="k">my</span> <span class="i">$i</span> = <span class="n">1</span><span class="sc">;</span> <span class="i">$i</span> &lt;= <span class="i">$range</span><span class="sc">;</span> <span class="i">$i</span>++<span class="s">)</span> <span class="s">{</span>
    <span class="k">if</span> <span class="s">(</span><span class="i">$y1</span> + <span class="s">(</span><span class="i">$i</span> * <span class="i">$delta_y</span><span class="s">)</span> &gt;= <span class="n">0</span> &amp;&amp; <span class="i">$y1</span> + <span class="s">(</span><span class="i">$i</span> * <span class="i">$delta_y</span><span class="s">)</span> &lt; <span class="n">20</span> &amp;&amp; <span class="i">$x1</span> + <span class="s">(</span><span class="i">$i</span> * <span class="i">$delta_x</span><span class="s">)</span> &gt;= <span class="n">0</span> &amp;&amp; <span class="i">$x1</span> + <span class="s">(</span><span class="i">$i</span> * <span class="i">$delta_x</span><span class="s">)</span> &lt; <span class="n">20</span><span class="s">)</span> <span class="s">{</span>
      <span class="k">my</span> <span class="i">$x_idx</span> = <span class="i">$x1</span> + <span class="s">(</span><span class="i">$i</span> * <span class="i">$delta_x</span><span class="s">)</span><span class="sc">;</span>
      <span class="k">my</span> <span class="i">$y_idx</span> = <span class="i">$y1</span> + <span class="s">(</span><span class="i">$i</span> * <span class="i">$delta_y</span><span class="s">)</span><span class="sc">;</span>
      <span class="k">my</span> <span class="i">$val</span> = <span class="i">$grid</span>[<span class="i">$y_idx</span>][<span class="i">$x_idx</span>]<span class="sc">;</span>
      <span class="i">$total</span> *= <span class="i">$val</span><span class="sc">;</span>
      <span class="i">$cnt</span>++<span class="sc">;</span>
      <span class="k">print</span> <span class="q">&quot;.&quot;</span><span class="sc">;</span>
      <span class="i">$dbg</span> .= <span class="s">(</span><span class="k">length</span><span class="s">(</span><span class="i">$dbg</span><span class="s">)</span> &gt; <span class="n">0</span> ? <span class="q">&#39; * &#39;</span> <span class="co">:</span> <span class="q">&#39;&#39;</span><span class="s">)</span> . <span class="q">&quot;[&quot;</span> . <span class="i">$y_idx</span> . <span class="q">&#39;,&#39;</span> . <span class="i">$x_idx</span> . <span class="q">&#39;] &#39;</span>. <span class="i">$val</span><span class="sc">;</span>
    <span class="s">}</span>
  <span class="s">}</span>
  
  
  <span class="k">return</span> <span class="s">(</span><span class="i">$cnt</span> &lt; <span class="n">4</span> ? <span class="n">0</span> <span class="co">:</span> <span class="i">$total</span><span class="s">)</span><span class="sc">;</span>
<span class="s">}</span> <span class="c"># findProduct()</span>

<span class="k">my</span> <span class="i">@x_ranges</span> = <span class="s">(</span>-<span class="i">$range</span><span class="cm">,</span> <span class="n">0</span> <span class="cm">,</span> <span class="i">$range</span><span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">@y_ranges</span> = <span class="s">(</span>-<span class="i">$range</span><span class="cm">,</span> <span class="n">0</span> <span class="cm">,</span> <span class="i">$range</span><span class="s">)</span><span class="sc">;</span>

<span class="k">for</span> <span class="s">(</span><span class="k">my</span> <span class="i">$x</span> = <span class="n">0</span><span class="sc">;</span> <span class="i">$x</span> &lt;= <span class="i">$#grid</span><span class="sc">;</span> <span class="i">$x</span>++<span class="s">)</span> <span class="s">{</span>
  <span class="k">for</span> <span class="s">(</span><span class="k">my</span> <span class="i">$y</span> = <span class="n">0</span><span class="sc">;</span> <span class="i">$y</span> &lt;= <span class="i">$#grid</span><span class="sc">;</span> <span class="i">$y</span>++<span class="s">)</span> <span class="s">{</span>
    <span class="k">for</span> <span class="k">my</span> <span class="i">$x_mod</span> <span class="s">(</span><span class="i">@x_ranges</span><span class="s">)</span> <span class="s">{</span>
      <span class="k">for</span> <span class="k">my</span> <span class="i">$y_mod</span> <span class="s">(</span><span class="i">@y_ranges</span><span class="s">)</span> <span class="s">{</span>
        <span class="k">my</span> <span class="i">$product</span> = <span class="i">findProduct</span><span class="s">(</span><span class="i">$x</span><span class="cm">,</span> <span class="i">$y</span><span class="cm">,</span> <span class="i">$x</span> + <span class="i">$x_mod</span><span class="cm">,</span> <span class="i">$y</span> + <span class="i">$y_mod</span><span class="s">)</span><span class="sc">;</span>
        <span class="k">if</span> <span class="s">(</span><span class="i">$product</span> &gt; <span class="i">$largest_product</span><span class="s">)</span> <span class="s">{</span>
          <span class="k">print</span> <span class="q">&quot; ... $product ... &quot;</span><span class="sc">;</span>
          <span class="i">$largest_product</span> = <span class="i">$product</span><span class="sc">;</span>
        <span class="s">}</span>
      <span class="s">}</span>
    <span class="s">}</span>
  <span class="s">}</span>
<span class="s">}</span>

<span class="k">print</span> <span class="q">&quot;\n\nLargest Product: &quot;</span> . <span class="i">$largest_product</span> . <span class="q">&quot;\n\n&quot;</span><span class="sc">;</span>

<span class="c"># Answer: 70600674</span>
<a name="EOF-"></a></pre>
</body>
</html>
